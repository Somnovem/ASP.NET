@page
@model Task_1.Pages.EditBooksModel
@{
	ViewData["Title"] = "Edit books";
}

<div class="container mt-5">
    <h1>Book Management</h1>
    <div class="row mt-4">
        <div class="col-md-6">
            <h3>Available Books</h3>
            <ul class="list-group" id="bookList" style="margin-top:5px;">
                @foreach (var book in Model.Books)
                {
                     <li class="list-group-item d-flex justify-content-between align-items-center">
                        @if (@book.Title.Length > 20)
                        {
                            <span>@book.Title.Substring(0,20)...</span>
                        }
                        else
                        {
                            <span>@book.Title</span>
                        }
                      <div>
                            <button class="btn btn-primary btn-sm" style="margin-right:6px;" onclick="editBook(@book.Id)">Edit</button>
                            <button class="btn btn-danger btn-sm" onclick="deleteBook(@book.Id)">Delete</button>
                      </div>
                    </li> 
                }
            </ul>
        </div>

        <!-- Book Editing Section -->
        <div class="col-md-6">
            <h3>Edit Book Info</h3>
            <form method="post" id="bookForm">
                <input type="hidden" id="bookId" name="bookId">
                <div class="form-group">
                    <label for="title">Title</label>
                    <input type="text" class="form-control" id="title" name="title" required>
                </div>
                <div class="form-group">
                    <label for="description">Description</label>
                    <textarea class="form-control" id="description" rows="3" name="description" required></textarea>
                </div>
                <div class="form-group">
                    <label for="pageCount">Page Count</label>
                    <input type="number" class="form-control" id="pageCount" name="pageCount" required>
                </div>
                <div class="form-group">
                    <label for="rating">Rating</label>
                    <input type="number" class="form-control" id="rating" name="rating" step="0.1" required>
                </div>
                <div class="form-group">
                    <label for="ratingsCount">Ratings Count</label>
                    <input type="number" class="form-control" id="ratingsCount" name="ratingsCount" required>
                </div>
                <div class="form-group">
                    <label for="publisher">Publisher</label>
                    <input type="text" class="form-control" id="publisher" name="publisher" required>
                </div>
                <div class="form-group">
                    <label for="publishedDate">Published Date</label>
                    <input type="text" class="form-control" id="publishedDate" name="publishedDate" required>
                </div>
                <div class="form-group">
                    <label for="categories">Categories</label>
                    <input type="text" class="form-control" id="categories" name="categories" required>
                </div>
                <div class="form-group">
                    <label for="categories">Authors</label>
                    <input type="text" class="form-control" id="authors" name="authors" required>
                </div>
                <hr style="color:white;">
                <div style="margin-top:5px;gap:20px;display:flex;justify-content:center;">
                    <input type="submit" class="btn btn-success" value="Save changes">
                </div>
            </form>
        </div>
    </div>
</div>

<script src="~/js/editBooks.js" asp-append-version="true"></script>